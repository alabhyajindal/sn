<section>
  <% @posts.each do |post| %>
    <div class='mb-4 text-sm'>

      <div class='flex items-center gap-1'>

        <%= button_to post_upvote_path(post) do %>
          <svg class='h-2 text-gray-500' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M142.41,40.22l87.46,151.87C236,202.79,228.08,216,215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22C119.89,29.26,136.11,29.26,142.41,40.22Z" fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><title>Upvote</title></svg>
        <% end %>

        <% if post.url.present? %>
          <%= link_to post.title, post.url %>
        <% else %>
          <%= link_to post.title, post_path(post) %>
        <% end %>
      </div>

      <% if post.url.present? %>
        <span class='text-gray-500 text-xs'>(<%= display_url(post.url) %>)</span>
      <% end %>

      <div class='text-xs text-gray-500'>

        <% unless post.votes.empty? %>
          <%= post.votes.count %> <%= "point".pluralize(post.votes.count) %>
        <% end %>

        by <%= post.user.username %>
        <%= time_ago_in_words(post.created_at) %> ago | <%= link_to 'discuss', post_path(post) %>

      </div>
    </div>
  <% end %>
</section>
